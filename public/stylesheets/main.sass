@font-face
    font-family: 'San Fransisco'
    src: url('/fonts/San Francisco Display Regular.ttf')  format('truetype')
    font-weight: normal
@font-face
    font-family: 'San Fransisco'
    src: url('/fonts/San Francisco Display Bold.ttf')  format('truetype')
    font-weight: bold

$side-padding: 15px
$room-transition: 0.25s
$room-transition-shift: 4px

@mixin truncate
    white-space: nowrap
    overflow: hidden
    text-overflow: ellipsis

@mixin breakpoint()

::-webkit-scrollbar
    display: none

body
    font-family: 'San Fransisco'
    font-weight: bold
    color: white
    margin: 0 0 0 0
    position: fixed
    top: 0
    left: 0
    right: 0
    bottom: 0
    overflow-x: hidden
    overflow-y: hidden
    background-attachment: fixed
    -webkit-touch-callout: none /* iOS Safari */
    user-select: none
#container
    position: absolute
    top: 0
    left: 0
    right: 0
    bottom: 0
    white-space: nowrap
    overflow-x: scroll
    overflow-y: hidden
    scroll-snap-type: mandatory
    scroll-snap-points-x: repeat(100%)
    -webkit-overflow-scrolling: touch

.room-wrapper
    width: 100%
    height: 100%
    padding-top: 32px
    position: relative
    display: inline-block
    margin: 0
    background-repeat: no-repeat
    background-position: center center
    background-size: cover
    background-image: url('/images/rooms/default.png')

.scroll
    position: absolute
    top: 70px
    left: 0
    right: 0
    bottom: 0
    overflow-y: scroll
    overflow-x: hidden
    -webkit-overflow-scrolling: touch
    border-top: 0px solid
    &.border
        border-top: 1px solid #A29A92
.wrapper
    position: absolute
    top: 0px
    left: $side-padding
    right: $side-padding
    bottom: 0
    padding-top: 90px
    .summary
        padding-top: 80px

.room-title
    font-size: 2.5em
    margin: 15px 0 0 20px
    transition: all $room-transition
    opacity: 1
    position: relative
    top: 0
    &.hidden
        opacity: 0
        top: -$room-transition-shift

h2
    font-size: 1.5em
    margin: 0 0
    margin-left: 5px

h3
    font-size: 1em
    margin: 6px 0 0
    margin-left: 5px

.top-controls
    height: 30px
    width: auto
    opacity: 50%
    padding: 0 $side-padding + 2
    line-height: 30px
    .button
        -webkit-backdrop-filter: blur(15px)
        display: inline-block
        height: 30px
        width: 30px
        background: rgba(white,0.8)
        border-radius: 15px
        margin: 0 12px 0 0
        text-align: center
        &.right
            margin: 0 0 0 12px
            float: right
        &.edit
            width: 72px
        cursor: pointer
        &:hover
            background-color: rgba(darken(white, 5%), 0.8)
        img
            height: 12px
            width: auto
            display: block
            margin: 9px auto 0px
    .room-title-small
        display: inline-block
        vertical-align: top
        min-width: 40px
        height: 30px
        line-height: 30px
        transition: all $room-transition
        opacity: 1
        position: relative
        top: 0
        &.hidden
            opacity: 0
            top: $room-transition-shift

.scenes-wrapper
    margin-left: -20px
    width: calc(100% + 40px)
    max-height: 200px
    margin-bottom: 25px
    white-space: nowrap
    overflow-y: hidden
    overflow-x: auto
    scroll-snap-type: mandatory
    scroll-snap-points-x: repeat(230px)
    scroll-snap-padding: 0 0 0 15px
    //-webkit-overflow-scrolling: touch
.scenes
    width: 800px
    height: 140px
    max-height: 160px
    margin: 0 20px
    white-space: normal

.accessories
    width: 100%
    max-width: 100%
    white-space: normal

.action
    background: white
    border-radius: 10px
    margin: 5/345 * 100% //5px
    color: black
    display: inline-block
    transition: all 0.03s
    user-select: none
    cursor: pointer
    &.inactive
        -webkit-backdrop-filter: blur(15px)
        background: rgba(white,0.8)
        color: lighten(black,35%)
        .status
            color: lighten(black, 55%)
        &:hover, &.hover
            background-color: rgba(darken(white, 5%), 0.8)

.accessory
    width: 105/345 * (100%) //105px
    padding-bottom: 105/345 * (100%)
    @for $count from 4 through 12
        $min: (96*$count + 36) * 1px
        $max: (96*($count+1) + 35) * 1px
        @if $count == 12
            $max: 10000000px
        $total: 115*$count
        @media screen and (min-width:$min) and (max-width: $max)
            width: 105/$total * (100%)
            padding-bottom: 105/$total * (100%)
            margin: 5/$total * (100%)
    font-size: 0.85em
    @media screen and (max-width: 340px)
        font-size: 0.75em
    position: relative
    .label
        position: absolute
        bottom: 7px
        max-width: 100%
        .room, .name, .status
            margin-left: 10px
            margin-right: 10px
            @include truncate
        .room
            margin-top: 50px
        .status
            color: lighten(black, 45%)
    .icon
        position: absolute
        top: 10px
        img
            height: 26px
            width: auto
            margin-left: 10px
.scene
    width: 220px
    height: 60px
    font-size: 1.2em
    line-height: 60px
    margin-right: 5px
    margin-left: 5px
    -webkit-scroll-snap-coordinate: 0% 0%
    .title
        display: inline-block
        max-width: calc(90% - 50px)
        padding-right: 10px
        @include truncate
        vertical-align: top
    .icon
        width: 55px
        display: inline-block
        img
            display: block
            height: 26px
            width: auto
            margin: 15px auto 0
#options
    position: absolute
    top: 0
    bottom: 0
    left: 0
    right: 0
    background-color: rgba(black, 0.4)
    z-index: 10
    transition: background-color 0.2s, top 0s
    &.hidden
        background-color: rgba(black, 0)
        top: 15000px
        transition: background-color 0.2s, top 0s linear 0.2s
        .menu-wrapper
            .menu
                transform: translateY(110%)
    .menu-wrapper
        position: absolute
        bottom: 0px
        height: auto
        width: 100%
        .menu
            position: relative
            transform: translateY(0%)
            transition: 0.25s ease
            width: 100%
            max-width: 420px
            margin: 0 auto
            .option     
                $option-height: 55px
                font-size: 1.2em
                margin: 0 7px
                text-align: center
                height: $option-height
                line-height: $option-height
                background-color: rgba(white, 0.9)
                box-sizing: border-box
                border-bottom: 1px solid lighten(black, 75%)
                color: #A60000
                font-weight: normal
                cursor: pointer
                .select
                    position: absolute
                    display: inline-block
                    right: 25px
                &:hover
                    background-color: rgba(darken(white, 10%), 0.9)
                &.cancel
                    font-weight: bold
                    margin: 7px
                    border-radius: 10px
                    background-color: white
                    &:hover
                        background-color: darken(white, 10%)
                &:first-of-type
                    border-radius: 10px 10px 0 0
                &:nth-last-of-type(2)
                    border-radius: 0 0 10px 10px
                    border-bottom: 0px solid
#big-control
    position: absolute
    top: 0
    bottom: 0
    left: 0
    right: 0
    display: flex
    justify-content: center
    align-items: center
    background-color: rgba(black, 0.4)
    opacity: 1
    -webkit-backdrop-filter: blur(15px)
    z-index: 10
    transition: opacity 0.2s, top 0s
    &.hidden
        opacity: 0
        top: 15000px
        -webkit-backdrop-filter: blur(0px)
        transition: opacity 0.2s, top 0s linear 0.2s
        .toggle
            transition: all 0s !important
    .big-control-wrapper
        position: relative
        width: 100%
        max-width: 220px
        height: 100%
        max-height: 400px
        img
            display: block
            margin: 15px auto
            height: 45px
            width: auto
        .status
            text-align: center
        .switch
            position: absolute
            top: 120px
            bottom: 0px
            left: 0px
            right: 0px
            background: rgba(white,0.5)
            overflow: hidden
            border-radius: 40px
            .toggle
                transition: all 0s ease-out
                position: absolute
                top: 5px
                left: 5px
                right: 5px
                height: calc(50% - 5px)
                background: white
                border-radius: 35px
                &.off
                    top: 50%
            .dimmer
                transition: background-color 0.3s, height 0.1s
                background-color: white
                position: absolute
                height: 60px
                bottom: 0
                left: 0
                right: 0
                &.off
                    background-color: black
                    height: 20px
